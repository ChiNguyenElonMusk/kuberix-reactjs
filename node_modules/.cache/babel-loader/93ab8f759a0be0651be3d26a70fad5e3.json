{"ast":null,"code":"var _jsxFileName = \"/Users/mz01-chinh/Desktop/reactjs-base-21-main/src/features/Product/components/FilterViewer.jsx\",\n    _s = $RefreshSig$();\n\nimport { Box, Chip, makeStyles } from '@material-ui/core';\nimport PropTypes from 'prop-types';\nimport React, { useMemo } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: \"flex\",\n    flexFlow: \"row wrap\",\n    alignItems: \"center\",\n    margin: theme.spacing(2, 0),\n    listStyle: \"none\",\n    padding: 0,\n    \"& > li\": {\n      margin: 0,\n      padding: theme.spacing(1)\n    }\n  }\n}));\nFilterViewer.propTypes = {\n  filters: PropTypes.object,\n  onChange: PropTypes.func,\n  categoryList: PropTypes.array\n};\nFilterViewer.defaultProps = {\n  filters: {},\n  categoryList: []\n};\nconst FILTER_LIST = [{\n  id: 1,\n  getLabel: filters => 'Giao hàng miễn phí',\n  isActive: filters => filters.isFreeShip,\n  isVisible: () => true,\n  isRemovable: false,\n  onRemove: () => {},\n  onToggle: filters => {\n    const newFilters = { ...filters\n    };\n\n    if (newFilters.isFreeShip) {\n      delete newFilters.isFreeShip;\n    } else {\n      newFilters.isFreeShip = true;\n    }\n\n    return newFilters;\n  }\n}, {\n  id: 2,\n  getLabel: filters => 'Có khuyến mãi',\n  isActive: () => true,\n  isVisible: filters => filters.isPromotion,\n  isRemovable: true,\n  onRemove: filters => {\n    const newFilters = { ...filters\n    };\n    delete newFilters.isPromotion;\n    return newFilters;\n  },\n  onToggle: () => {}\n}, {\n  id: 3,\n  getLabel: filters => `Từ ${filters === null || filters === void 0 ? void 0 : filters.salePrice_gte} đến ${filters === null || filters === void 0 ? void 0 : filters.salePrice_lte}`,\n  isActive: () => true,\n  isVisible: filters => {\n    if (Object.keys(filters).includes('salePrice_gte') && Object.keys(filters).includes('salePrice_lte') && (filters.salePrice_gte !== 0 || filters.salePrice_lte !== 0)) {\n      return true;\n    } else {\n      return false;\n    }\n  },\n  isRemovable: true,\n  onRemove: filters => {\n    const newFilters = { ...filters\n    };\n    delete newFilters.salePrice_lte;\n    delete newFilters.salePrice_gte;\n    return newFilters;\n  },\n  onToggle: () => {}\n}, {\n  id: 4,\n  getLabel: (filters, categoryList) => {\n    var _category$;\n\n    const category = categoryList.filter(x => x.id === filters[\"category.id\"]);\n    console.log(categoryList);\n    return ((_category$ = category[0]) === null || _category$ === void 0 ? void 0 : _category$.name) || \"Danh mục\";\n  },\n  isActive: () => true,\n  isVisible: filters => Object.keys(filters).includes('category.id'),\n  isRemovable: true,\n  onRemove: filters => {\n    const newFilters = { ...filters\n    };\n    delete newFilters[\"category.id\"];\n    return newFilters;\n  },\n  onToggle: filters => true\n}];\n\nfunction FilterViewer(props) {\n  _s();\n\n  const classes = useStyles();\n  const {\n    categoryList,\n    filters,\n    onChange\n  } = props;\n  const visibleFilters = useMemo(() => {\n    return FILTER_LIST.filter(x => x.isVisible(filters));\n  }, [filters]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(Box, {\n      component: \"ul\",\n      className: classes.root,\n      children: visibleFilters.map((x, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n        children: /*#__PURE__*/_jsxDEV(Chip, {\n          label: x.id !== 4 ? x.getLabel(filters) : x.getLabel(filters, categoryList),\n          color: x.isActive(filters) ? 'primary' : 'default',\n          clickable: !x.isRemovable,\n          onClick: x.isRemovable ? null : () => {\n            if (onChange) {\n              const newFilters = x.onToggle(filters);\n              onChange(newFilters);\n            }\n          },\n          onDelete: x.isRemovable ? () => {\n            if (onChange) {\n              const newFilters = x.onRemove(filters);\n              onChange(newFilters);\n            }\n          } : null\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 25\n        }, this)\n      }, x.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 116,\n    columnNumber: 9\n  }, this);\n}\n\n_s(FilterViewer, \"4LieIukBTM3LV5KyViDjqWRGmKk=\", false, function () {\n  return [useStyles];\n});\n\n_c = FilterViewer;\nexport default FilterViewer;\n\nvar _c;\n\n$RefreshReg$(_c, \"FilterViewer\");","map":{"version":3,"sources":["/Users/mz01-chinh/Desktop/reactjs-base-21-main/src/features/Product/components/FilterViewer.jsx"],"names":["Box","Chip","makeStyles","PropTypes","React","useMemo","useStyles","theme","root","display","flexFlow","alignItems","margin","spacing","listStyle","padding","FilterViewer","propTypes","filters","object","onChange","func","categoryList","array","defaultProps","FILTER_LIST","id","getLabel","isActive","isFreeShip","isVisible","isRemovable","onRemove","onToggle","newFilters","isPromotion","salePrice_gte","salePrice_lte","Object","keys","includes","category","filter","x","console","log","name","props","classes","visibleFilters","map","index"],"mappings":";;;AAAA,SAASA,GAAT,EAAcC,IAAd,EAAoBC,UAApB,QAAsC,mBAAtC;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,KAAP,IAAgBC,OAAhB,QAA+B,OAA/B;;AAGA,MAAMC,SAAS,GAAGJ,UAAU,CAAEK,KAAD,KAAY;AACrCC,EAAAA,IAAI,EAAE;AACFC,IAAAA,OAAO,EAAE,MADP;AAEFC,IAAAA,QAAQ,EAAE,UAFR;AAGFC,IAAAA,UAAU,EAAE,QAHV;AAIFC,IAAAA,MAAM,EAAEL,KAAK,CAACM,OAAN,CAAc,CAAd,EAAiB,CAAjB,CAJN;AAKFC,IAAAA,SAAS,EAAE,MALT;AAMFC,IAAAA,OAAO,EAAE,CANP;AAOF,cAAU;AACNH,MAAAA,MAAM,EAAE,CADF;AAENG,MAAAA,OAAO,EAAER,KAAK,CAACM,OAAN,CAAc,CAAd;AAFH;AAPR;AAD+B,CAAZ,CAAD,CAA5B;AAgBAG,YAAY,CAACC,SAAb,GAAyB;AACrBC,EAAAA,OAAO,EAAEf,SAAS,CAACgB,MADE;AAErBC,EAAAA,QAAQ,EAAEjB,SAAS,CAACkB,IAFC;AAGrBC,EAAAA,YAAY,EAAEnB,SAAS,CAACoB;AAHH,CAAzB;AAMAP,YAAY,CAACQ,YAAb,GAA4B;AACxBN,EAAAA,OAAO,EAAE,EADe;AAExBI,EAAAA,YAAY,EAAE;AAFU,CAA5B;AAKA,MAAMG,WAAW,GAAG,CAChB;AACIC,EAAAA,EAAE,EAAE,CADR;AAEIC,EAAAA,QAAQ,EAAGT,OAAD,IAAa,oBAF3B;AAGIU,EAAAA,QAAQ,EAAGV,OAAD,IAAaA,OAAO,CAACW,UAHnC;AAIIC,EAAAA,SAAS,EAAE,MAAM,IAJrB;AAKIC,EAAAA,WAAW,EAAE,KALjB;AAMIC,EAAAA,QAAQ,EAAE,MAAM,CAAG,CANvB;AAOIC,EAAAA,QAAQ,EAAGf,OAAD,IAAa;AACnB,UAAMgB,UAAU,GAAG,EAAE,GAAGhB;AAAL,KAAnB;;AACA,QAAIgB,UAAU,CAACL,UAAf,EAA2B;AACvB,aAAOK,UAAU,CAACL,UAAlB;AACH,KAFD,MAEO;AACHK,MAAAA,UAAU,CAACL,UAAX,GAAwB,IAAxB;AACH;;AACD,WAAOK,UAAP;AACH;AAfL,CADgB,EAmBhB;AACIR,EAAAA,EAAE,EAAE,CADR;AAEIC,EAAAA,QAAQ,EAAGT,OAAD,IAAa,eAF3B;AAGIU,EAAAA,QAAQ,EAAE,MAAM,IAHpB;AAIIE,EAAAA,SAAS,EAAGZ,OAAD,IAAaA,OAAO,CAACiB,WAJpC;AAKIJ,EAAAA,WAAW,EAAE,IALjB;AAMIC,EAAAA,QAAQ,EAAGd,OAAD,IAAa;AACnB,UAAMgB,UAAU,GAAG,EAAC,GAAGhB;AAAJ,KAAnB;AACA,WAAOgB,UAAU,CAACC,WAAlB;AACA,WAAOD,UAAP;AACH,GAVL;AAWID,EAAAA,QAAQ,EAAE,MAAM,CAAE;AAXtB,CAnBgB,EAiChB;AACIP,EAAAA,EAAE,EAAE,CADR;AAEIC,EAAAA,QAAQ,EAAGT,OAAD,IAAc,MAAKA,OAAN,aAAMA,OAAN,uBAAMA,OAAO,CAAEkB,aAAc,QAAOlB,OAApC,aAAoCA,OAApC,uBAAoCA,OAAO,CAAEmB,aAAc,EAFtF;AAGIT,EAAAA,QAAQ,EAAE,MAAM,IAHpB;AAIIE,EAAAA,SAAS,EAAGZ,OAAD,IAAa;AACpB,QAAGoB,MAAM,CAACC,IAAP,CAAYrB,OAAZ,EAAqBsB,QAArB,CAA8B,eAA9B,KAAkDF,MAAM,CAACC,IAAP,CAAYrB,OAAZ,EAAqBsB,QAArB,CAA8B,eAA9B,CAAlD,KAAqGtB,OAAO,CAACkB,aAAR,KAA0B,CAA1B,IAA+BlB,OAAO,CAACmB,aAAR,KAA0B,CAA9J,CAAH,EAAqK;AACjK,aAAO,IAAP;AACH,KAFD,MAEK;AACD,aAAO,KAAP;AACH;AACJ,GAVL;AAWIN,EAAAA,WAAW,EAAE,IAXjB;AAYIC,EAAAA,QAAQ,EAAGd,OAAD,IAAa;AACnB,UAAMgB,UAAU,GAAG,EAAC,GAAGhB;AAAJ,KAAnB;AACA,WAAOgB,UAAU,CAACG,aAAlB;AACA,WAAOH,UAAU,CAACE,aAAlB;AACA,WAAOF,UAAP;AACH,GAjBL;AAkBID,EAAAA,QAAQ,EAAE,MAAM,CAAE;AAlBtB,CAjCgB,EAsDhB;AACIP,EAAAA,EAAE,EAAE,CADR;AAEIC,EAAAA,QAAQ,EAAE,CAACT,OAAD,EAAUI,YAAV,KAA2B;AAAA;;AACjC,UAAMmB,QAAQ,GAAGnB,YAAY,CAACoB,MAAb,CAAoBC,CAAC,IAAIA,CAAC,CAACjB,EAAF,KAASR,OAAO,CAAC,aAAD,CAAzC,CAAjB;AACA0B,IAAAA,OAAO,CAACC,GAAR,CAAYvB,YAAZ;AACA,WAAO,eAAAmB,QAAQ,CAAC,CAAD,CAAR,0DAAaK,IAAb,KAAqB,UAA5B;AACH,GANL;AAOIlB,EAAAA,QAAQ,EAAE,MAAM,IAPpB;AAQIE,EAAAA,SAAS,EAAGZ,OAAD,IAAaoB,MAAM,CAACC,IAAP,CAAYrB,OAAZ,EAAqBsB,QAArB,CAA8B,aAA9B,CAR5B;AASIT,EAAAA,WAAW,EAAE,IATjB;AAUIC,EAAAA,QAAQ,EAAGd,OAAD,IAAa;AACnB,UAAMgB,UAAU,GAAG,EAAC,GAAGhB;AAAJ,KAAnB;AACA,WAAOgB,UAAU,CAAC,aAAD,CAAjB;AACA,WAAOA,UAAP;AACH,GAdL;AAeID,EAAAA,QAAQ,EAAGf,OAAD,IAAa;AAf3B,CAtDgB,CAApB;;AA0EA,SAASF,YAAT,CAAsB+B,KAAtB,EAA6B;AAAA;;AACzB,QAAMC,OAAO,GAAG1C,SAAS,EAAzB;AACA,QAAM;AAACgB,IAAAA,YAAD;AAAeJ,IAAAA,OAAf;AAAwBE,IAAAA;AAAxB,MAAqC2B,KAA3C;AACA,QAAME,cAAc,GAAG5C,OAAO,CAAC,MAAM;AACjC,WAAOoB,WAAW,CAACiB,MAAZ,CAAoBC,CAAD,IAAOA,CAAC,CAACb,SAAF,CAAYZ,OAAZ,CAA1B,CAAP;AACH,GAF6B,EAE3B,CAACA,OAAD,CAF2B,CAA9B;AAKA,sBACI;AAAA,2BACI,QAAC,GAAD;AAAK,MAAA,SAAS,EAAC,IAAf;AAAoB,MAAA,SAAS,EAAE8B,OAAO,CAACxC,IAAvC;AAAA,gBACKyC,cAAc,CAACC,GAAf,CAAmB,CAACP,CAAD,EAAIQ,KAAJ,kBAChB;AAAA,+BACI,QAAC,IAAD;AACI,UAAA,KAAK,EAAER,CAAC,CAACjB,EAAF,KAAO,CAAP,GAAWiB,CAAC,CAAChB,QAAF,CAAWT,OAAX,CAAX,GAAgCyB,CAAC,CAAChB,QAAF,CAAWT,OAAX,EAAoBI,YAApB,CAD3C;AAEI,UAAA,KAAK,EAAEqB,CAAC,CAACf,QAAF,CAAWV,OAAX,IAAsB,SAAtB,GAAkC,SAF7C;AAGI,UAAA,SAAS,EAAE,CAACyB,CAAC,CAACZ,WAHlB;AAII,UAAA,OAAO,EAAEY,CAAC,CAACZ,WAAF,GAAgB,IAAhB,GAAuB,MAAM;AAClC,gBAAIX,QAAJ,EAAc;AACV,oBAAMc,UAAU,GAAGS,CAAC,CAACV,QAAF,CAAWf,OAAX,CAAnB;AACAE,cAAAA,QAAQ,CAACc,UAAD,CAAR;AACH;AACJ,WATL;AAUI,UAAA,QAAQ,EAAES,CAAC,CAACZ,WAAF,GAAgB,MAAM;AAC5B,gBAAIX,QAAJ,EAAc;AACV,oBAAMc,UAAU,GAAGS,CAAC,CAACX,QAAF,CAAWd,OAAX,CAAnB;AACAE,cAAAA,QAAQ,CAACc,UAAD,CAAR;AACH;AACJ,WALS,GAKN;AAfR;AAAA;AAAA;AAAA;AAAA;AADJ,SAASS,CAAC,CAACjB,EAAX;AAAA;AAAA;AAAA;AAAA,cADH;AADL;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,UADJ;AA2BH;;GAnCQV,Y;UACWV,S;;;KADXU,Y;AAqCT,eAAeA,YAAf","sourcesContent":["import { Box, Chip, makeStyles } from '@material-ui/core';\nimport PropTypes from 'prop-types';\nimport React, { useMemo } from 'react';\n\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        display: \"flex\",\n        flexFlow: \"row wrap\",\n        alignItems: \"center\",\n        margin: theme.spacing(2, 0),\n        listStyle: \"none\",\n        padding: 0,\n        \"& > li\": {\n            margin: 0,\n            padding: theme.spacing(1),\n        }\n    },\n\n}))\n\nFilterViewer.propTypes = {\n    filters: PropTypes.object,\n    onChange: PropTypes.func,\n    categoryList: PropTypes.array,\n};\n\nFilterViewer.defaultProps = {\n    filters: {},\n    categoryList: [],\n}\n\nconst FILTER_LIST = [\n    {\n        id: 1,\n        getLabel: (filters) => 'Giao hàng miễn phí',\n        isActive: (filters) => filters.isFreeShip,\n        isVisible: () => true,\n        isRemovable: false,\n        onRemove: () => { },\n        onToggle: (filters) => {\n            const newFilters = { ...filters }\n            if (newFilters.isFreeShip) {\n                delete newFilters.isFreeShip\n            } else {\n                newFilters.isFreeShip = true;\n            }\n            return newFilters;\n        },\n\n    },\n    {\n        id: 2,\n        getLabel: (filters) => 'Có khuyến mãi',\n        isActive: () => true,\n        isVisible: (filters) => filters.isPromotion,\n        isRemovable: true,\n        onRemove: (filters) => {\n            const newFilters = {...filters}\n            delete newFilters.isPromotion\n            return newFilters;\n        },\n        onToggle: () => {},\n\n    },\n    {\n        id: 3,\n        getLabel: (filters) => `Từ ${filters?.salePrice_gte} đến ${filters?.salePrice_lte}`,\n        isActive: () => true,\n        isVisible: (filters) => {\n            if(Object.keys(filters).includes('salePrice_gte') && Object.keys(filters).includes('salePrice_lte') && (filters.salePrice_gte !== 0 || filters.salePrice_lte !== 0) ){   \n                return true;\n            }else{\n                return false;\n            }\n        },\n        isRemovable: true,\n        onRemove: (filters) => { \n            const newFilters = {...filters}\n            delete newFilters.salePrice_lte\n            delete newFilters.salePrice_gte\n            return newFilters;\n        },\n        onToggle: () => {},\n\n    },\n    {\n        id: 4,\n        getLabel: (filters, categoryList) => {\n            const category = categoryList.filter(x => x.id === filters[\"category.id\"])\n            console.log(categoryList)\n            return category[0]?.name || \"Danh mục\"\n        },\n        isActive: () => true,\n        isVisible: (filters) => Object.keys(filters).includes('category.id'),\n        isRemovable: true,\n        onRemove: (filters) => { \n            const newFilters = {...filters}\n            delete newFilters[\"category.id\"]\n            return newFilters;\n        },\n        onToggle: (filters) => true,\n\n    },\n]\n\nfunction FilterViewer(props) {\n    const classes = useStyles()\n    const {categoryList, filters, onChange } = props\n    const visibleFilters = useMemo(() => {\n        return FILTER_LIST.filter((x) => x.isVisible(filters))\n    }, [filters])\n\n\n    return (\n        <div>\n            <Box component=\"ul\" className={classes.root}>\n                {visibleFilters.map((x, index)=> (\n                    <li key={x.id}>\n                        <Chip\n                            label={x.id!==4 ? x.getLabel(filters): x.getLabel(filters, categoryList)}\n                            color={x.isActive(filters) ? 'primary' : 'default'}\n                            clickable={!x.isRemovable}\n                            onClick={x.isRemovable ? null : () => {\n                                if (onChange) {\n                                    const newFilters = x.onToggle(filters);\n                                    onChange(newFilters);\n                                }\n                            }}\n                            onDelete={x.isRemovable ? () => {\n                                if (onChange) {\n                                    const newFilters = x.onRemove(filters);\n                                    onChange(newFilters);\n                                }\n                            } : null}\n                        />\n                    </li>\n                ))}\n            </Box>\n        </div>\n    );\n}\n\nexport default FilterViewer;"]},"metadata":{},"sourceType":"module"}